<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Personas</title>
    <link rel="stylesheet" href="./options.css" />
  </head>
  <body>
    <div id="drop-overlay" hidden>Drop Persona Zip to import</div>
    <div id="notification" aria-live="polite" aria-atomic="true"></div>
    <section class="card">
      <div class="controls">
        <label for="persona-select">Change Persona:</label>
        <select id="persona-select"></select>
        <button id="import-zip-btn" type="button" class="primary-btn">Import</button>
        <input id="import-zip-input" type="file" accept=".zip,.xpi" hidden />
        <button id="save-zip-btn" type="button" class="primary-btn">Export</button>
        <button id="delete-persona-btn" type="button" class="delete-btn">Delete</button>
      </div>
      <input
        id="persona-name-input"
        class="persona-name-input"
        type="text"
        name="persona-name"
        value="Loading…"
        aria-label="Persona name"
      />
      <div class="tabs" role="tablist" aria-label="Persona sections">
        <button
          id="tab-history"
          class="tab-button active"
          role="tab"
          aria-selected="true"
          aria-controls="panel-history"
          type="button"
        >
          History
        </button>
        <button
          id="tab-insights"
          class="tab-button"
          role="tab"
          aria-selected="false"
          aria-controls="panel-insights"
          type="button"
        >
          Insights
        </button>
        <button
          id="tab-export"
          class="tab-button"
          role="tab"
          aria-selected="false"
          aria-controls="panel-export"
          type="button"
        >
          JSON
        </button>
      </div>
      <div
        id="panel-history"
        class="tab-panel active"
        role="tabpanel"
        aria-labelledby="tab-history"
      >
        <ul id="history-list" class="history-list"></ul>
        <p id="empty-state" class="empty" hidden>No captures yet.</p>
      </div>
      <div
        id="panel-insights"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-insights"
      >
        <div class="insights-grid insights-header">
          <div>Summary</div>
          <div>Category</div>
          <div>Intent</div>
          <div>Score</div>
          <div>Actions</div>
        </div>
        <div class="insights-add">
          <div class="insights-grid">
            <input
              id="insight-add-summary"
              type="text"
              placeholder="Add summary…"
              aria-label="Insight summary"
            />
            <select id="insight-add-category" aria-label="Insight category"></select>
            <select id="insight-add-intent" aria-label="Insight intent"></select>
            <select id="insight-add-score" aria-label="Insight score"></select>
            <button id="insight-add-btn" type="button" class="insight-add-btn">
              Add insight
            </button>
          </div>
        </div>
        <div id="insights-rows"></div>
        <p id="insights-empty" class="empty" hidden>No insights yet.</p>
      </div>
      <div
        id="panel-export"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-export"
      >
        <p class="export-help">Preview of persona.json bundled in the export.</p>
        <textarea
          id="export-json"
          class="export-json"
          aria-label="persona.json preview"
          readonly
          spellcheck="false"
        ></textarea>
      </div>
    </section>
    <script type="module" src="./options.mjs"></script>
  </body>
</html>
